## üêª –ú–µ–¥–≤–µ–∂–∏–π —É–ª–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–í—ã ‚Äî –º–µ–¥–≤–µ–¥—å. –ò –í—ã –≥–æ–ª–æ–¥–Ω—ã.
–í —Ä–µ–∫–µ –ø–ª–µ—â—É—Ç—Å—è —Ä—ã–±—ã, –∫–∞–∂–¥–∞—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è.
–í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–π–º–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ, –ø–æ–∫–∞ –Ω–µ —Å—Ç–µ–º–Ω–µ–ª–æ.

–ö–∞–∂–¥–∞—è —Ä—ã–±–∞ ‚Äî —ç—Ç–æ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è**,
–∫–æ—Ç–æ—Ä–∞—è _–∏–Ω–æ–≥–¥–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç —É—Å–ø–µ—Ö (resolve)_, –∞ _–∏–Ω–æ–≥–¥–∞ –ø—Ä–æ–≤–∞–ª (reject)_.

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/
‚îú‚îÄ‚îÄ index.js         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ game.js     # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ fish.js     # –ö–ª–∞—Å—Å Fish –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä—ã–±
‚îÇ   ‚îî‚îÄ‚îÄ ui.js       # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îî‚îÄ‚îÄ __tests__/      # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ç–µ—Å—Ç–∞–º–∏
    ‚îî‚îÄ‚îÄ index.test.js
```

---

### üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –º–∏–Ω–∏-–∏–≥—Ä—É, –≥–¥–µ –º–µ–¥–≤–µ–¥—å –ª–æ–≤–∏—Ç —Ä—ã–±—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

- `setTimeout`
- `Promise.allSettled`
- `async / await`
- —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫

---

### ‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∫–∞

1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ ¬´—Ä—ã–±¬ª.
2. –ö–∞–∂–¥–∞—è —Ä—ã–±–∞ ‚Äî —ç—Ç–æ `Promise`, –∫–æ—Ç–æ—Ä—ã–π:

   - **—É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è** —Å —Ç–µ–∫—Å—Ç–æ–º –≤—Ä–æ–¥–µ `"–ü–æ–π–º–∞–ª —Ä—ã–±—É!"`;
   - **–æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è** —Å `"–£–ø—Å, —Ä—ã–±–∞ —É–ø–ª—ã–ª–∞..."`.

3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤:

   - –ø–æ–∫–∞–∑–∞—Ç—å —Å—á—ë—Ç—á–∏–∫ –ø–æ–π–º–∞–Ω–Ω—ã—Ö —Ä—ã–±,
   - –≤—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –∏–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω.

---

### üß† –ß—Ç–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç—Å—è

- –£–º–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ `Promise.allSettled`.
- –ù–∞–≤—ã–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏.
- –ù–∞–≤—ã–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (`try/catch` –∏ `then/catch`).

---

## üêü –ó–∞–¥–∞–Ω–∏—è

### 1Ô∏è‚É£ –†—ã–±–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `spawnFish(count)` –≤ —Ñ–∞–π–ª–µ `src/fish.js`,
–∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤ —Å —Å–ª—É—á–∞–π–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –æ—Ç 1 –¥–æ 5 —Å–µ–∫—É–Ω–¥.
–° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 30% –ø—Ä–æ–º–∏—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `reject`.

```javascript
// fish.js
export function spawnFish(count) {
  // TODO: –°–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤ —Å —Ä—ã–±–∞–º–∏
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function getRandomDelay() {
  // TODO: –í–µ—Ä–Ω—É—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è 1-5 —Å–µ–∫
}

function shouldCatch() {
  // TODO: –í–µ—Ä–Ω—É—Ç—å true —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 70%
}
```

### 2Ô∏è‚É£ –õ–æ–≤–ª—è –Ω–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ

–°–¥–µ–ª–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `catchFish()` –≤ —Ñ–∞–π–ª–µ `src/game.js`,
–∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç `Promise.allSettled` –¥–ª—è –≤—Å–µ—Ö —Ä—ã–±
–∏ –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å, —Å–∫–æ–ª—å–∫–æ —Ä—ã–±–∏–Ω –ø–æ–π–º–∞–Ω–æ –∏ —Å–∫–æ–ª—å–∫–æ —É–ø–ª—ã–ª–æ.

```javascript
// game.js
import { spawnFish } from './fish.js';
import { printResults } from './ui.js';

export async function catchFish(count) {
  // TODO: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–≤–ª—é —Ä—ã–±—ã –∏ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise.allSettled
  // –í–µ—Ä–Ω—É—Ç—å { caught, escaped }
}
```

### 3Ô∏è‚É£ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±–µ–¥

–í —Ñ–∞–π–ª–µ `src/game.js` —Å–¥–µ–ª–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `startFishing`,
–∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É, –∂–¥—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ `await`,
–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `ui.js` –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

```javascript
// game.js
export async function startFishing(count) {
  // TODO: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É –∏ –≤—ã–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
}

// ui.js
export function printResults({ caught, escaped }) {
  // TODO: –í—ã–≤–µ—Å—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É–ª–æ–≤–∞
}
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
üêª –ò—Ç–æ–≥–æ: –ø–æ–π–º–∞–Ω–æ 4, —É–ø–ª—ã–ª–æ 2
```

### 4Ô∏è‚É£ –†—ã–±–∞–ª–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–í —Ñ–∞–π–ª–µ `src/game.js` —Å–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `watchFishing`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ª–æ–≤–ª–∏.
–í—ã–≤–æ–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –º–µ—Ä–µ –ø—Ä–∏—Ö–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∫–∞–∂–¥–æ–π —Ä—ã–±—ã:
`–ü–æ–π–º–∞–ª —â—É–∫—É!` –∏–ª–∏ `–ö–∞—Ä–ø —É—à—ë–ª...`

```javascript
// game.js
export async function watchFishing(count) {
  // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –∫–∞–∂–¥–æ–π —Ä—ã–±–æ–π
  // –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å for...of —Å await
  // –ò–õ–ò Promise.race –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
}

// ui.js
const FISH_TYPES = ['–∫–∞—Ä–ø', '—â—É–∫–∞', '–æ–∫—É–Ω—å', '–ª–µ—â'];

export function printCatch() {
  // TODO: –í—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–π–º–∞–Ω–Ω–æ–π —Ä—ã–±–µ
}

export function printEscape() {
  // TODO: –í—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–±–µ–∂–∞–≤—à–µ–π —Ä—ã–±–µ
}
```

### 5Ô∏è‚É£ –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

–í —Ñ–∞–π–ª–µ `src/game.js` –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —É—Ä–æ–≤–Ω–µ–π –∏ —Ñ—É–Ω–∫—Ü–∏—é –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è:

```javascript
// game.js
export const DIFFICULTY = {
  EASY: { name: '–ª—ë–≥–∫–∏–π', fish: 3 },
  MEDIUM: { name: '—Å—Ä–µ–¥–Ω–∏–π', fish: 5 },
  HARD: { name: '—Å–ª–æ–∂–Ω—ã–π', fish: 10 },
};

export function chooseDifficulty() {
  // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  // –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å readline –∏–ª–∏ process.argv
}
```
